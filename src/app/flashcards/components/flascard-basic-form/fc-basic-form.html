<div fxLayout="row" fxLayoutWrap="wrap">
    <div fxFlex="100" fxFlex.gt-sm="50" fxFlex.gt-md="calc(100% - 300px)">
        <mat-card class="p-0">
            <mat-card-title class="">
                <div class="card-title-text">
                    <span>Basic Card</span>
                </div>
                <!-- <mat-divider></mat-divider> -->
                <span fxFlex></span>
                <button class="card-control"
                    mat-icon-button
                    (click)="changeView()"
                >
                <mat-icon>{{cardViewStatus}}</mat-icon>
                </button>
            </mat-card-title>
            <mat-card-content *ngIf="isView">
                <form  [formGroup]="basicForm" (ngSubmit)="onSubmit()">
                    <mat-form-field class="full-width">
                        <input
                        matInput
                        placeholder="Card Title"
                        formControlName="title">
                    </mat-form-field>
                    <mat-form-field class="full-width">
                        <textarea
                        matInput 
                        matTextareaAutosize matAutosizeMinRows="2"
                        matAutosizeMaxRows="10"
                        placeholder="description"
                        formControlName="description"
                        ></textarea>
                    </mat-form-field>
                    <mat-form-field class="full-width">
                        <mat-chip-list #chipList>
                            <mat-chip *ngFor="let tag of tags" [selectable]="selectable"
                                        [removable]="removable" (remove)="removeTag(tag)"
                                        selected="true"
                                        [style.background]="tag.color"
                                        >
                                {{tag.name}}
                                <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
                            </mat-chip>
                            <input placeholder="New Tag..."
                                    [matChipInputFor]="chipList"
                                    [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                                    [matChipInputAddOnBlur]="addOnBlur"
                                    (matChipInputTokenEnd)="addTag($event)"
                                    formControlName="tags"        
                            />
                        </mat-chip-list>
                    </mat-form-field>
                    <small 
                    *ngIf="!addTagAble" 
                    class="form-error-msg"> max tags is 5 </small>
                    <mat-card class="category-img">
                        <mat-card-title>
                            <button 
                                mat-raised-button color="primary" class="mr-1"
                                [disableRipple]="true"
                                >
                                Add Image For Category
                            </button>
                        </mat-card-title>
                        <mat-card-content>
                            <div>
                                <div class="from-url">
                                        <button 
                                            mat-raised-button color="primary" class="mr-1"
                                            (click)="openDialogCat()"
                                            >
                                                + from url
                                        </button>
                                    </div>
                                    <div>
                                        <label for="file_photo" class="file-photo">
                                                ï¼‹from your computer
                                                <input
                                                    type="file"
                                                    placeholder="upload image"
                                                    (change)="handleFileInput($event.target.files)"
                                                >
                                        </label>
                                    </div>
                            </div>
                            <span fxFlex></span>

                        </mat-card-content>
                    </mat-card>
                    <button
                        type="submit"
                        mat-raised-button color="primary">Save</button>
                </form>
                </mat-card-content>
        </mat-card>
    </div>
    <div fxFlex="100" fxFlex.gt-md="300px" fxFlex.gt-sm="50" *ngIf="isView">
        <mat-card class="p-0">
            <!-- view tittle -->
            <mat-card-title class="mat-bg-accent m-0">
                <div class="card-title-text">
                    <span>{{basicForm.value.title}}</span>
                    <span fxFlex></span>
                    <button class="card-control" mat-icon-button>
                        <mat-icon>more_vert</mat-icon>
                    </button>
                </div>
            </mat-card-title>
            
            <!-- view image -->
            <img mat-card-image [src]="currentImage" id="uploadImg">
            <!-- view content -->
            <mat-card-content>
                <p [innerHtml]="basicForm.value.description"></p>
                <mat-divider></mat-divider>
                <!-- view all tags -->
                <div class="form-chip-list">
                    <mat-chip-list>
                            <mat-chip 
                                *ngFor="let tag of tags"
                                selected="true"
                                [style.background]="tag.color"
                            >
                                {{tag.name}}
                            </mat-chip>
                    </mat-chip-list>
                </div>
            </mat-card-content>
            <mat-card-footer>

            </mat-card-footer>
        </mat-card>
    </div>
</div>